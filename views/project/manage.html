{{extend 'layout.html'}}
{{block head}}
<link rel="stylesheet" type="text/css" href="{{= URL('static', 'css/project.css') }}" />
{{end}}
<div>
    <div class="breadcrumb">
        <a href="{{=URL(c='default', f='index')}}">Home</a> &gt; 
        <a href="{{= URL('project', 'index') }}">Your Projects</a> &gt; 
        {{=project.getTitle()}} Project
    </div>
	<h1>{{=project.getTitle()}}</h1>
    <section class="project-open-status">
        {{if project.isOpen():}}
        This project is currently open.        
        <br />
        <a href="{{=URL(c='project', f='toggle', args=[project.getId()])}}"><button>Close</button></a>	
        {{else:}}
        <strong>This project is currently closed</strong>. Only you are able to see it. For people to be able to transcibe it, you must open it first. 
        <br />
        <a href="{{=URL(c='project', f='toggle', args=[project.getId()])}}"><button>Open</button></a>	
        {{pass}}
    </section>
	<span>There are {{=len(project.getDocuments())}} document(s) in this project.</span>
	<ul class="document-list">
		{{for d in project.getDocuments():}}
        <li>
			<a href="{{=URL(c='document', f='review', args=[d.getId()])}}">
                <h3>{{=d.getTitle()}}</h3>
                <img alt="{{=d.getTitle()}} image." src="{{=URL(c='document', f='image', args=[d.getImage()])}}">
                {{transcription_count = d.getTranscriptionCount()}}
                <span class="bottom">{{=transcription_count}} transcription{{=" has" if transcription_count == 1 else "s have"}} been made.</span>
			</a>
		</li>
		{{pass}}
	</ul>
</div>
